<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>í™˜ìœ¨, ì‹œì°¨, ì¼ì • ê³„ì‚°ê¸°</title>

  <!-- ëª¨ë°”ì¼ í™•ëŒ€ ë°©ì§€ & ë°˜ì‘í˜• -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ì„¤ëª… / SEO -->
  <meta name="description" content="ê°„í¸í•˜ê²Œ í™˜ìœ¨, ì‹œì°¨, ì—¬í–‰ ì¼ì •ì„ í•œ ë²ˆì— ì •ë¦¬í•´ ë³´ì„¸ìš”." />

  <!-- OG (ì¹´ì¹´ì˜¤í†¡, ë„¤ì´ë²„ ë“± ë¯¸ë¦¬ë³´ê¸°) -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="í™˜ìœ¨, ì‹œì°¨, ì¼ì • ê³„ì‚°ê¸°" />
  <meta property="og:description" content="ê°„í¸í•˜ê²Œ í™˜ìœ¨, ì‹œì°¨ ê³„ì‚°ê³¼ ì—¬í–‰ ì¼ì • ì •ë¦¬ë¥¼ í•œ ë²ˆì—." />
  <meta property="og:url" content="https://eumditravel-oss.github.io/Exchange/" />
  <meta property="og:image" content="https://eumditravel-oss.github.io/Exchange/preview.png" />
  <meta property="og:locale" content="ko_KR" />

  <!-- Twitter Card (ì„ íƒ) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="í™˜ìœ¨, ì‹œì°¨, ì¼ì • ê³„ì‚°ê¸°" />
  <meta name="twitter:description" content="ê°„í¸í•˜ê²Œ í™˜ìœ¨, ì‹œì°¨, ì—¬í–‰ ì¼ì •ì„ í•œ ë²ˆì— ì •ë¦¬í•´ ë³´ì„¸ìš”." />
  <meta name="twitter:image" content="https://eumditravel-oss.github.io/Exchange/preview.png" />

  <style>
    :root {
      --bg: #f4f5fb;
      --card-bg: #ffffff;
      --accent: #3b82f6;
      --accent-soft: #dbeafe;
      --border: #e5e7eb;
      --text-main: #111827;
      --text-sub: #6b7280;
      --danger: #ef4444;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.12);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, sans-serif;
      background: radial-gradient(circle at top, #e0f2fe 0, #f9fafb 45%, #eef2ff 100%);
      color: var(--text-main);
    }

    .app-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    header {
      padding: 18px 16px 6px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 1.4rem;
      font-weight: 800;
      letter-spacing: -0.03em;
    }

    header p {
      margin: 6px 0 0;
      font-size: 0.85rem;
      color: var(--text-sub);
    }

    main {
      flex: 1;
      padding: 10px 12px 28px;
      max-width: 1024px;
      width: 100%;
      margin: 0 auto;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }

    @media (min-width: 768px) {
      header {
        padding: 26px 16px 10px;
      }
      header h1 {
        font-size: 1.8rem;
      }
      header p {
        font-size: 0.95rem;
      }

      .grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .card {
      background: rgba(255, 255, 255, 0.9);
      border-radius: var(--radius-lg);
      padding: 16px 16px 18px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.25);
      backdrop-filter: blur(12px);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 4px;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .card-pill {
      padding: 2px 10px;
      border-radius: 999px;
      background: var(--accent-soft);
      font-size: 0.7rem;
      color: var(--accent);
      font-weight: 600;
    }

    .card-sub {
      margin: 0;
      font-size: 0.78rem;
      color: var(--text-sub);
    }

    .card-body {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    label {
      display: block;
      font-size: 0.72rem;
      font-weight: 600;
      color: var(--text-sub);
      margin-bottom: 3px;
      letter-spacing: -0.01em;
    }

    input,
    select {
      width: 100%;
      padding: 8px 10px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: rgba(248, 250, 252, 0.9);
      font-size: 0.85rem;
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease,
        background 0.15s ease;
    }

    input:focus,
    select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.4);
      background: #ffffff;
    }

    input[type="date"] {
      font-family: inherit;
    }

    .row {
      display: flex;
      gap: 8px;
    }

    .row > * {
      flex: 1;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      background: var(--accent);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
      transition: transform 0.08s ease, box-shadow 0.08s ease,
        background 0.08s ease;
      width: 100%;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 24px rgba(37, 99, 235, 0.35);
      background: #2563eb;
    }

    button:active {
      transform: translateY(0);
      box-shadow: 0 8px 18px rgba(37, 99, 235, 0.25);
    }

    .result-box {
      margin-top: 4px;
      padding: 8px 10px;
      border-radius: 12px;
      background: #f1f5f9;
      font-size: 0.9rem;
      line-height: 1.5;
    }

    .result-main {
      font-weight: 700;
      margin-bottom: 2px;
    }

    .result-sub {
      font-size: 0.78rem;
      color: var(--text-sub);
    }

    .small-hint {
      margin-top: -2px;
      font-size: 0.7rem;
      color: var(--text-sub);
    }

    .muted {
      color: var(--text-sub);
      font-size: 0.8rem;
    }

    .error {
      color: var(--danger);
      font-size: 0.8rem;
      margin-top: 4px;
    }

    footer {
      text-align: center;
      padding: 6px 0 14px;
      font-size: 0.7rem;
      color: var(--text-sub);
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <header>
      <h1>í™˜ìœ¨ Â· ì‹œì°¨ Â· ì¼ì • ê³„ì‚°ê¸°</h1>
      <p>ì—¬í–‰ ì¤€ë¹„í•  ë•Œ í—·ê°ˆë¦¬ëŠ” ê²ƒë“¤, í•œ ë²ˆì— ì •ë¦¬í•´ ë³´ì„¸ìš”.</p>
    </header>

    <main>
      <div class="grid">
        <!-- 1. í™˜ìœ¨ ê³„ì‚°ê¸° -->
        <section class="card" id="fx-card">
          <div class="card-header">
            <div>
              <div class="card-title">
                ğŸ’± í™˜ìœ¨ ê³„ì‚°ê¸°
                <span class="card-pill">ì‹¤ì‹œê°„ API</span>
              </div>
              <p class="card-sub">ê¸°ì¤€ í†µí™” â†’ ë‹¤ë¥¸ í†µí™”ë¡œ ê¸ˆì•¡ ë³€í™˜í•˜ê¸°</p>
            </div>
          </div>
          <div class="card-body">
            <div>
              <label for="amount">ê¸ˆì•¡</label>
              <input
                id="amount"
                type="number"
                min="0"
                step="0.01"
                placeholder="ì˜ˆ: 100000 (ê¸°ì¤€ í†µí™” ê¸ˆì•¡)"
              />
            </div>

            <div class="row">
              <div>
                <label for="base-currency">ê¸°ì¤€ í†µí™”</label>
                <select id="base-currency"></select>
              </div>
              <div>
                <label for="target-currency">ë³€í™˜ í†µí™”</label>
                <select id="target-currency"></select>
              </div>
            </div>

            <button id="convert-btn" type="button">
              í™˜ìœ¨ ì¡°íšŒ ë° ê³„ì‚°í•˜ê¸°
            </button>

            <div class="small-hint">
              * ë¬´ë£Œ ê³µê°œ í™˜ìœ¨ APIë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ë§¤ìš° ê°€ë” ì§€ì—°Â·ì˜¤ì°¨ê°€ ìˆì„ ìˆ˜ ìˆì–´ìš”.
            </div>

            <div id="fx-error" class="error" style="display:none;"></div>

            <div id="fx-result" class="result-box" style="display:none;">
              <div class="result-main" id="fx-result-main"></div>
              <div class="result-sub" id="fx-result-sub"></div>
            </div>
          </div>
        </section>

        <!-- 2. ì‹œì°¨ ê³„ì‚°ê¸° -->
        <section class="card" id="tz-card">
          <div class="card-header">
            <div>
              <div class="card-title">
                ğŸŒ ì‹œì°¨ ê³„ì‚°ê¸°
                <span class="card-pill">íƒ€ì„ì¡´ ë¹„êµ</span>
              </div>
              <p class="card-sub">ì£¼ìš” ë„ì‹œ ê°„ í˜„ì¬ ì‹œê° & ì‹œì°¨ í™•ì¸</p>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div>
                <label for="tz-from">ê¸°ì¤€ ë„ì‹œ</label>
                <select id="tz-from"></select>
              </div>
              <div>
                <label for="tz-to">ë¹„êµ ë„ì‹œ</label>
                <select id="tz-to"></select>
              </div>
            </div>

            <button id="tz-btn" type="button">í˜„ì¬ ì‹œê° & ì‹œì°¨ ë³´ê¸°</button>

            <div class="small-hint">
              * ë¸Œë¼ìš°ì €ì˜ í˜„ì¬ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í•´ìš”.
            </div>

            <div id="tz-result" class="result-box" style="display:none;">
              <div class="result-main" id="tz-result-main"></div>
              <div class="result-sub" id="tz-result-sub"></div>
            </div>
          </div>
        </section>

        <!-- 3. ì¼ì • ê³„ì‚°ê¸° (ì—¬í–‰ ë‚ ì§œ) -->
        <section class="card" id="trip-card">
          <div class="card-header">
            <div>
              <div class="card-title">
                ğŸ“… ì¼ì • ê³„ì‚°ê¸°
                <span class="card-pill">ì—¬í–‰ D-Day</span>
              </div>
              <p class="card-sub">ì¶œë°œì¼ / ë„ì°©ì¼ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì§œÂ·ë°•ìˆ˜ ê³„ì‚°</p>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div>
                <label for="trip-start">ì¶œë°œì¼</label>
                <input id="trip-start" type="date" />
              </div>
              <div>
                <label for="trip-end">ë„ì°©ì¼</label>
                <input id="trip-end" type="date" />
              </div>
            </div>

            <button id="trip-btn" type="button">ì¼ì • ê³„ì‚°í•˜ê¸°</button>

            <div id="trip-error" class="error" style="display:none;"></div>

            <div id="trip-result" class="result-box" style="display:none;">
              <div class="result-main" id="trip-result-main"></div>
              <div class="result-sub" id="trip-result-sub"></div>
            </div>

            <div class="small-hint">
              * ë°•ìˆ˜ ê³„ì‚°ì€ â€œì¶œë°œì¼ ë°¤ â†’ ë„ì°©ì¼ ì•„ì¹¨â€ ê¸°ì¤€ìœ¼ë¡œ, ì¼ë°˜ì ì¸ ì—¬í–‰ì‚¬ í‘œê¸° ë°©ì‹ê³¼ ë™ì¼í•˜ê²Œ ê³„ì‚°í•´ìš”.
            </div>
          </div>
        </section>
      </div>
    </main>

    <footer>
      Made for travel planning Â· <a href="https://github.com/" target="_blank" rel="noreferrer">GitHub Pages</a>ì—ì„œ í˜¸ìŠ¤íŒ… ê°€ëŠ¥
    </footer>
  </div>

  <script>
    // ---------------------------
    // 1. í†µí™” ëª©ë¡ ì„¸íŒ…
    // ---------------------------
    const CURRENCY_LIST = [
      ["KRW", "ëŒ€í•œë¯¼êµ­ ì›"],
      ["USD", "ë¯¸êµ­ ë‹¬ëŸ¬"],
      ["JPY", "ì¼ë³¸ ì—”"],
      ["EUR", "ìœ ëŸ½ ìœ ë¡œ"],
      ["CNY", "ì¤‘êµ­ ìœ„ì•ˆ"],
      ["HKD", "í™ì½© ë‹¬ëŸ¬"],
      ["TWD", "ëŒ€ë§Œ ë‹¬ëŸ¬"],
      ["THB", "íƒœêµ­ ë°”íŠ¸"],
      ["VND", "ë² íŠ¸ë‚¨ ë™"],
      ["AUD", "í˜¸ì£¼ ë‹¬ëŸ¬"],
      ["CAD", "ìºë‚˜ë‹¤ ë‹¬ëŸ¬"],
      ["GBP", "ì˜êµ­ íŒŒìš´ë“œ"],
      ["SGD", "ì‹±ê°€í¬ë¥´ ë‹¬ëŸ¬"],
    ];

    const baseSelect = document.getElementById("base-currency");
    const targetSelect = document.getElementById("target-currency");

    function populateCurrencies() {
      CURRENCY_LIST.forEach(([code, label]) => {
        const opt1 = document.createElement("option");
        opt1.value = code;
        opt1.textContent = `${code} Â· ${label}`;

        const opt2 = document.createElement("option");
        opt2.value = code;
        opt2.textContent = `${code} Â· ${label}`;

        baseSelect.appendChild(opt1);
        targetSelect.appendChild(opt2);
      });

      // ê¸°ë³¸ê°’: KRW â†’ USD
      baseSelect.value = "KRW";
      targetSelect.value = "USD";
    }

    populateCurrencies();

    // ---------------------------
    // 1-2. í™˜ìœ¨ ê³„ì‚° (ë¬´ë£Œ API ì‚¬ìš©)
    // ---------------------------
    const convertBtn = document.getElementById("convert-btn");
    const fxError = document.getElementById("fx-error");
    const fxResultBox = document.getElementById("fx-result");
    const fxResultMain = document.getElementById("fx-result-main");
    const fxResultSub = document.getElementById("fx-result-sub");

    async function fetchRate(base, target) {
      // exchangerate.host ë¬´ë£Œ API ì˜ˆì‹œ
      const url = `https://api.exchangerate.host/latest?base=${encodeURIComponent(
        base
      )}&symbols=${encodeURIComponent(target)}`;
      const res = await fetch(url);
      if (!res.ok) {
        throw new Error("API ì‘ë‹µ ì˜¤ë¥˜");
      }
      const data = await res.json();
      if (!data || !data.rates || data.rates[target] == null) {
        throw new Error("í™˜ìœ¨ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
      }
      return {
        rate: data.rates[target],
        date: data.date,
      };
    }

    convertBtn.addEventListener("click", async () => {
      fxError.style.display = "none";
      fxResultBox.style.display = "none";

      const amountValue = parseFloat(document.getElementById("amount").value);
      const base = baseSelect.value;
      const target = targetSelect.value;

      if (Number.isNaN(amountValue) || amountValue <= 0) {
        fxError.textContent = "ê¸ˆì•¡ì„ 0ë³´ë‹¤ í° ìˆ«ìë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
        fxError.style.display = "block";
        return;
      }

      if (base === target) {
        fxError.textContent = "ê¸°ì¤€ í†µí™”ì™€ ë³€í™˜ í†µí™”ê°€ ê°™ìŠµë‹ˆë‹¤.";
        fxError.style.display = "block";
        return;
      }

      convertBtn.disabled = true;
      convertBtn.textContent = "ì¡°íšŒ ì¤‘...";

      try {
        const { rate, date } = await fetchRate(base, target);
        const converted = amountValue * rate;

        fxResultMain.textContent = `${amountValue.toLocaleString()} ${base} â‰ˆ ${converted.toLocaleString(undefined, {
          maximumFractionDigits: 2,
        })} ${target}`;

        fxResultSub.textContent = `1 ${base} â‰ˆ ${rate.toLocaleString(undefined, {
          maximumFractionDigits: 4,
        })} ${target} (ê¸°ì¤€ì¼: ${date})`;

        fxResultBox.style.display = "block";
      } catch (err) {
        fxError.textContent = "í™˜ìœ¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
        fxError.style.display = "block";
        console.error(err);
      } finally {
        convertBtn.disabled = false;
        convertBtn.textContent = "í™˜ìœ¨ ì¡°íšŒ ë° ê³„ì‚°í•˜ê¸°";
      }
    });

    // ---------------------------
    // 2. ì‹œì°¨ ê³„ì‚°ê¸°
    // ---------------------------
    const TIMEZONES = [
      { id: "Asia/Seoul", label: "ğŸ‡°ğŸ‡· ì„œìš¸ (Seoul)" },
      { id: "Asia/Tokyo", label: "ğŸ‡¯ğŸ‡µ ë„ì¿„ (Tokyo)" },
      { id: "Asia/Shanghai", label: "ğŸ‡¨ğŸ‡³ ìƒí•˜ì´ (Shanghai)" },
      { id: "Asia/Bangkok", label: "ğŸ‡¹ğŸ‡­ ë°©ì½• (Bangkok)" },
      { id: "Asia/Singapore", label: "ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´ (Singapore)" },
      { id: "Europe/London", label: "ğŸ‡¬ğŸ‡§ ëŸ°ë˜ (London)" },
      { id: "Europe/Paris", label: "ğŸ‡«ğŸ‡· íŒŒë¦¬ (Paris)" },
      { id: "America/New_York", label: "ğŸ‡ºğŸ‡¸ ë‰´ìš• (New York)" },
      { id: "America/Los_Angeles", label: "ğŸ‡ºğŸ‡¸ LA (Los Angeles)" },
      { id: "Australia/Sydney", label: "ğŸ‡¦ğŸ‡º ì‹œë“œë‹ˆ (Sydney)" },
    ];

    const tzFromSelect = document.getElementById("tz-from");
    const tzToSelect = document.getElementById("tz-to");
    const tzBtn = document.getElementById("tz-btn");
    const tzResultBox = document.getElementById("tz-result");
    const tzResultMain = document.getElementById("tz-result-main");
    const tzResultSub = document.getElementById("tz-result-sub");

    function populateTimezones() {
      TIMEZONES.forEach((tz) => {
        const opt1 = document.createElement("option");
        opt1.value = tz.id;
        opt1.textContent = tz.label;

        const opt2 = document.createElement("option");
        opt2.value = tz.id;
        opt2.textContent = tz.label;

        tzFromSelect.appendChild(opt1);
        tzToSelect.appendChild(opt2);
      });

      tzFromSelect.value = "Asia/Seoul";
      tzToSelect.value = "Europe/Paris";
    }

    populateTimezones();

    function formatTimeInZone(timeZone) {
      const now = new Date();
      const formatter = new Intl.DateTimeFormat("ko-KR", {
        timeZone,
        year: "numeric",
        month: "2-digit",
        day: "2-digit",
        hour: "2-digit",
        minute: "2-digit",
      });
      return formatter.format(now);
    }

    function getOffsetHours(timeZone) {
      const now = new Date();
      const utc = now.getTime() + now.getTimezoneOffset() * 60000;
      const local = new Date(
        utc + new Date().toLocaleString("en-US", { timeZone })
          ? 0
          : 0
      );
      // ìœ„ ë°©ì‹ì€ ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ì´ìŠˆê°€ ìˆì„ ìˆ˜ ìˆì–´ ê°„ë‹¨í•œ ë°©ë²• ì‚¬ìš©:
      const options = { timeZone, hour12: false, hour: "2-digit", minute: "2-digit" };
      const timeParts = new Intl.DateTimeFormat("en-GB", options)
        .formatToParts(new Date());
      const hourStr = timeParts.find((p) => p.type === "hour")?.value || "0";
      const minuteStr = timeParts.find((p) => p.type === "minute")?.value || "0";
      return parseInt(hourStr, 10) + parseInt(minuteStr, 10) / 60;
    }

    tzBtn.addEventListener("click", () => {
      const from = tzFromSelect.value;
      const to = tzToSelect.value;
      if (from === to) {
        tzResultMain.textContent = "ê°™ì€ ë„ì‹œë¥¼ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤.";
        tzResultSub.textContent = "ì‹œì°¨ëŠ” 0ì‹œê°„ì…ë‹ˆë‹¤.";
        tzResultBox.style.display = "block";
        return;
      }

      const fromLabel =
        TIMEZONES.find((tz) => tz.id === from)?.label || from;
      const toLabel =
        TIMEZONES.find((tz) => tz.id === to)?.label || to;

      const now = new Date();
      const fromTime = formatTimeInZone(from);
      const toTime = formatTimeInZone(to);

      // ì‹œì°¨(ë‹¨ìˆœ ì‹œê°„ ì°¨ì´) ê³„ì‚°
      const baseOffset = getOffsetHours(from);
      const targetOffset = getOffsetHours(to);
      let diff = targetOffset - baseOffset;

      // -12~+12 ë²”ìœ„ë¡œ ë³´ì •
      if (diff > 12) diff -= 24;
      if (diff < -12) diff += 24;

      const sign = diff > 0 ? "+" : diff < 0 ? "-" : "Â±";
      const absDiff = Math.abs(diff).toFixed(1);

      tzResultMain.textContent = `${fromLabel} ê¸°ì¤€ í˜„ì¬ ì‹œê°: ${fromTime}`;
      tzResultSub.textContent = `${toLabel} í˜„ì¬ ì‹œê°: ${toTime} Â· ì‹œì°¨: ${sign}${absDiff}ì‹œê°„ ì •ë„`;
      tzResultBox.style.display = "block";
    });

    // ---------------------------
    // 3. ì¼ì • ê³„ì‚°ê¸°
    // ---------------------------
    const tripBtn = document.getElementById("trip-btn");
    const tripStart = document.getElementById("trip-start");
    const tripEnd = document.getElementById("trip-end");
    const tripError = document.getElementById("trip-error");
    const tripResultBox = document.getElementById("trip-result");
    const tripResultMain = document.getElementById("trip-result-main");
    const tripResultSub = document.getElementById("trip-result-sub");

    function toDateOnly(value) {
      if (!value) return null;
      const d = new Date(value);
      if (Number.isNaN(d.getTime())) return null;
      // ì‹œì°¨ ì´ìŠˆ ì¤„ì´ê¸° ìœ„í•´ UTC ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜
      return new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
    }

    tripBtn.addEventListener("click", () => {
      tripError.style.display = "none";
      tripResultBox.style.display = "none";

      const startDate = toDateOnly(tripStart.value);
      const endDate = toDateOnly(tripEnd.value);

      if (!startDate || !endDate) {
        tripError.textContent = "ì¶œë°œì¼ê³¼ ë„ì°©ì¼ì„ ëª¨ë‘ ì„ íƒí•´ ì£¼ì„¸ìš”.";
        tripError.style.display = "block";
        return;
      }

      if (endDate < startDate) {
        tripError.textContent = "ë„ì°©ì¼ì€ ì¶œë°œì¼ë³´ë‹¤ ê°™ê±°ë‚˜ ëŠ¦ì–´ì•¼ í•©ë‹ˆë‹¤.";
        tripError.style.display = "block";
        return;
      }

      const diffMs = endDate.getTime() - startDate.getTime();
      const diffDays = diffMs / (1000 * 60 * 60 * 24);
      const nights = diffDays; // ì˜ˆ: 3ë°•4ì¼ â†’ 3

      const days = diffDays + 1; // ì¶œë°œì¼ë¶€í„° ë„ì°©ì¼ê¹Œì§€ í¬í•¨

      tripResultMain.textContent = `${nights}ë°• ${days}ì¼ ì—¬í–‰ì…ë‹ˆë‹¤.`;
      tripResultSub.textContent = `ì¶œë°œì¼: ${tripStart.value} Â· ë„ì°©ì¼: ${tripEnd.value}`;

      tripResultBox.style.display = "block";
    });

    // ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¸íŒ…
    (function setDefaultDates() {
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, "0");
      const dd = String(today.getDate()).padStart(2, "0");
      const todayStr = `${yyyy}-${mm}-${dd}`;

      tripStart.value = todayStr;

      const tomorrow = new Date(today.getTime() + 24 * 60 * 60 * 1000);
      const yyyy2 = tomorrow.getFullYear();
      const mm2 = String(tomorrow.getMonth() + 1).padStart(2, "0");
      const dd2 = String(tomorrow.getDate()).padStart(2, "0");
      const tomorrowStr = `${yyyy2}-${mm2}-${dd2}`;
      tripEnd.value = tomorrowStr;
    })();
  </script>
</body>
</html>
